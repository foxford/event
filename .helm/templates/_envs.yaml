{{- define "envs" }}
- name: APP_AGENT_LABEL
  valueFrom:
    fieldRef:
      fieldPath: metadata.name
- name: RUST_LOG
  value: {{ pluck .Values.werf.env (index .Values.app.env.rust_log .Values.global.org .Values.global.app) | first | default (index .Values.app.env.rust_log .Values.global.org .Values.global.app)._default }}
- name: CACHE_ENABLED
  value: {{ pluck .Values.werf.env (index .Values.app.env.cache.enabled .Values.global.org .Values.global.app) | first | default (index .Values.app.env.cache.enabled .Values.global.org .Values.global.app)._default }}
- name: CACHE_POOL_SIZE
  value: {{ pluck .Values.werf.env (index .Values.app.env.cache.pool_size .Values.global.org .Values.global.app) | first | default (index .Values.app.env.cache.pool_size .Values.global.org .Values.global.app)._default }}
- name: CACHE_POOL_IDLE_SIZE
  value: {{ pluck .Values.werf.env (index .Values.app.env.cache.pool_idle_size .Values.global.org .Values.global.app) | first | default (index .Values.app.env.cache.pool_idle_size .Values.global.org .Values.global.app)._default }}
- name: CACHE_POOL_TIMEOUT
  value: {{ pluck .Values.werf.env (index .Values.app.env.cache.pool_timeout .Values.global.org .Values.global.app) | first | default (index .Values.app.env.cache.pool_timeout .Values.global.org .Values.global.app)._default }}
- name: CACHE_EXPIRATION_TIME
  value: {{ pluck .Values.werf.env (index .Values.app.env.cache.expiration_time .Values.global.org .Values.global.app) | first | default (index .Values.app.env.cache.expiration_time .Values.global.org .Values.global.app)._default }}
- name: DATABASE_POOL_SIZE
  value: {{ pluck .Values.werf.env (index .Values.app.env.database.pool_size .Values.global.org .Values.global.app) | first | default (index .Values.app.env.database.pool_size .Values.global.org .Values.global.app)._default }}
- name: DATABASE_POOL_IDLE_SIZE
  value: {{ pluck .Values.werf.env (index .Values.app.env.database.pool_idle_size .Values.global.org .Values.global.app) | first | default (index .Values.app.env.database.pool_idle_size .Values.global.org .Values.global.app)._default }}
- name: DATABASE_POOL_TIMEOUT
  value: {{ pluck .Values.werf.env (index .Values.app.env.database.pool_timeout .Values.global.org .Values.global.app) | first | default (index .Values.app.env.database.pool_timeout .Values.global.org .Values.global.app)._default }}
- name: DATABASE_POOL_MAX_LIFETIME
  value: {{ pluck .Values.werf.env (index .Values.app.env.database.pool_max_lifetime .Values.global.org .Values.global.app) | first | default (index .Values.app.env.database.pool_max_lifetime .Values.global.org .Values.global.app)._default }}
- name: AWS_ACCESS_KEY_ID
  value:
- name: AWS_SECRET_ACCESS_KEY
  value:
- name: AWS_ENDPOINT
  value:
- name: AWS_REGION
  value:
- name: DATABASE_URL
  value:
- name: CACHE_URL
  value:
{{- end }}